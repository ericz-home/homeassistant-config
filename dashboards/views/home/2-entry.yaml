- cards:
    - type: custom:bubble-card
      card_type: separator
      name: 'Entryway'
      icon: mdi:door
    - type: custom:vertical-stack-in-card
      cards:
        - type: custom:bubble-card
          card_type: separator
          name: 'Front Door'
        - type: custom:bubble-card
          card_type: button
          card_layout: large
          button_type: state
          entity: lock.front_door_lock
          name: Lock
          sub_button:
            - entity: sensor.front_door_lock_battery
              icon: none
              show_state: true
              show_background: false
            - icon: mdi:lock
              tap_action:
                action: call-service
                service: lock.lock
                service_data:
                  entity_id: lock.front_door_lock
            - icon: mdi:lock-open-variant
              tap_action:
                action: call-service
                service: lock.unlock
                service_data:
                  entity_id: lock.front_door_lock
          styles: |
            .bubble-wrapper {
              background-color: var(--card-background-color);
            }
            .bubble-sub-button-2 {
              background-color: ${state === 'locked' ? 'var(--disable-text-color)' : 'var(--info-color)'};
            }
            .bubble-sub-button-3 {
              background-color: ${state === 'unlocked' ? 'var(--disable-text-color)' : 'var(--info-color)'};
            }
            ${subButtonIcon[0].setAttribute('icon',
              subButtonState[0] === 100 ? 'mdi:battery' :
              subButtonState[0] > 90 ? 'mdi:battery-90' :
              subButtonState[0] > 80 ? 'mdi:battery-80' :
              subButtonState[0] > 70 ? 'mdi:battery-70' :
              subButtonState[0] > 60 ? 'mdi:battery-60' :
              subButtonState[0] > 50 ? 'mdi:battery-50' :
              subButtonState[0] > 40 ? 'mdi:battery-30' :
              subButtonState[0] > 30 ? 'mdi:battery-30' :
              subButtonState[0] > 20 ? 'mdi:battery-20' :
              subButtonState[0] > 10 ? 'mdi:battery-10' :
              'mdi:battery-outline')}
        - type: custom:bubble-card
          card_type: button
          button_type: state
          entity: binary_sensor.front_door_contact
          name: Door
          sub_button:
            - entity: sensor.front_door_battery
              icon: none
              show_state: true
              show_background: false
            - entity: input_boolean.auto_lock_front_door
              icon: none
              name: Auto-Lock
              show_background: false
              show_state: false
              show_name: true
              tap_action:
                action: toggle
          styles: |
            .bubble-wrapper {
              background-color: var(--card-background-color);
            }

            .bubble-sub-button-2 {
              flex-direction: column-reverse;
            }

            .bubble-sub-button-2 > .bubble-sub-button-name-container {
              font-size: 9px;
            }

            ${subButtonIcon[1].setAttribute('icon', 
              subButtonState[1] === 'on' ? 'mdi:checkbox-marked' : 'mdi:checkbox-blank-outline')}

            ${subButtonIcon[0].setAttribute('icon',
              subButtonState[0] === 100 ? 'mdi:battery' :
              subButtonState[0] > 90 ? 'mdi:battery-90' :
              subButtonState[0] > 80 ? 'mdi:battery-80' :
              subButtonState[0] > 70 ? 'mdi:battery-70' :
              subButtonState[0] > 60 ? 'mdi:battery-60' :
              subButtonState[0] > 50 ? 'mdi:battery-50' :
              subButtonState[0] > 40 ? 'mdi:battery-30' :
              subButtonState[0] > 30 ? 'mdi:battery-30' :
              subButtonState[0] > 20 ? 'mdi:battery-20' :
              subButtonState[0] > 10 ? 'mdi:battery-10' :
              'mdi:battery-outline')}
