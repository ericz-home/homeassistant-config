- cards:
    - type: custom:bubble-card
      card_type: button
      button_type: state
      card_layout: large-2-rows
      entity: weather.ksea
      show_state: true
      button_action:
        tap_action:
          action: navigate
          navigation_path: '#weather'
      sub_button:
        - name: Temp
          icon: mdi:thermometer
          entity: weather.ksea
          attribute: temperature
          show_background: false
          show_attribute: true
        - name: AQI
          icon: mdi:leaf
          entity: sensor.olive_st_seattle_washington_usa_air_quality_index
          show_background: false
          show_icon: true
        - name: Humidity 
          icon: mdi:water
          entity: weather.ksea
          show_background: false
          show_attribute: true
          attribute: humidity
          show_icon: true
      card_mod:
        style: |
          .bubble-sub-button-1::before {
            content: "Â°F"
          }
          .bubble-sub-button-2 {
            background-color:
              {% if state(config.sub_button[2].entity) <  51 %}
                var(--success-color)
              {% elif state_attr(config.sub_button[3].entity, 'forecast')[0].precipitation_probability < 101 %}
                var(--warning-color)
              {% elif state_attr(config.sub_button[3].entity, 'forecast')[0].precipitation_probability < 151  %}
                var(--orange-color)
              {% elif state_attr(config.sub_button[3].entity, 'forecast')[0].precipitation_probability > 201 %}
                var(--error-color)
              {% elif state_attr(config.sub_button[3].entity, 'forecast')[0].precipitation_probability > 301 %}
                var(--purple-color)
              {% else %}
                #800000
              {% endif %}
              ;
          }
          .bubble-sub-button-3::before {
            content: "%";
          }
    - type: vertical-stack
      cards:
        - type: custom:bubble-card
          card_type: pop-up
          hash: '#weather'
        - type: custom:clock-weather-card
          entity: weather.ksea
          sun_entity: sun.sun
          hide_date: true
          hide_clock: true
          show_humidity: true
          hide_forecast_section: true
          aqi_sensor: sensor.olive_st_seattle_washington_usa_air_quality_index
        - type: custom:hourly-weather 
          entity: weather.ksea
          name: null
          icons: true
          round_temperatures: true
          show_precipitation_amounts: true
          show_precipitation_probability: true
          card_mod:
            style: |
              ha-card {
                border: none;
              }
        - type: custom:clock-weather-card
          sun_entity: sun.sun
          entity: weather.ksea
          forecast_rows: 5
          hide_today_section: true
        - type: "custom:horizon-card"
          moon: false
          refresh_period: 1800
